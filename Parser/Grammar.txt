START -> PROGRAM @2  .

PROGRAM -> @1 CLASSDECLARATIONS @2 FUNCTIONDEFINITIONS @2 main FUNCTIONBODY @2 @2  .

CLASSDECLARATIONS -> @1 CLASSDECLARATION @2 CLASSDECLARATIONS @3  .
CLASSDECLARATIONS ->   .

CLASSDECLARATION -> class id @2 OPTIONALINHERITS @2 lcurbr MEMBERDECLARATIONS @2 rcurbr semi  .

FUNCTIONDEFINITIONS -> @1 FUNCTIONDEFINITION @2 FUNCTIONDEFINITIONS @3  .
FUNCTIONDEFINITIONS ->   .

FUNCTIONDEFINITION -> @1 FUNCTIONSIGNATURE @2 FUNCTIONBODY @2  .

MEMBERDECLARATIONS -> @1 VISIBILITY MEMBERDECLARATION @4 @2 MEMBERDECLARATIONS @3  .
MEMBERDECLARATIONS ->   .

MEMBERDECLARATION -> id FUNCTIONORVARIABLEDECLARATION @4  .
MEMBERDECLARATION -> TYPENONID VARIABLEDECLARATION @4  .

FUNCTIONORVARIABLEDECLARATION -> FUNCTIONDECLARATION  .
FUNCTIONORVARIABLEDECLARATION -> VARIABLEDECLARATION  .

VISIBILITY -> public  .
VISIBILITY -> private  .

STATEMENT -> if lpar RELEXPRESSION @2 rpar then STATEMENTBLOCK @2 else STATEMENTBLOCK @2 semi  .
STATEMENT -> while lpar RELEXPRESSION @2 rpar STATEMENTBLOCK @2 semi  .
STATEMENT -> read lpar @1_#var STATEMENTVARIABLE @2 rpar semi  .
STATEMENT -> write lpar EXPRESSION @2 rpar semi  .
STATEMENT -> return lpar EXPRESSION @2 rpar semi  .
STATEMENT -> ASSIGNSTATEMENTORFUNCTIONCALL  .

STATEMENTVARIABLE -> @1_#variables id STATEMENTVARIABLEORFUNCTIONCALL  .

STATEMENTVARIABLEORFUNCTIONCALL -> @1_#variable @4 INDICES @2 @2 STATEMENTVARIABLEEXT  .
STATEMENTVARIABLEORFUNCTIONCALL -> @1_#func_call @4 lpar FUNCTIONCALLPARAMS @2 @2 rpar STATEMENTFUNCTIONCALL  .

STATEMENTVARIABLEEXT -> dot STATEMENTVARIABLE  .
STATEMENTVARIABLEEXT ->   .

STATEMENTFUNCTIONCALL -> dot STATEMENTVARIABLE  .

ASSIGNSTATEMENTORFUNCTIONCALL -> @1_#variables id VARIABLEORFUNCTIONCALLEXT  .

VARIABLEORFUNCTIONCALLEXT -> @1_#variable @4 INDICES @2 @2 VARIABLEEXT  .
VARIABLEORFUNCTIONCALLEXT -> @1_#func_call lpar FUNCTIONCALLPARAMS @2 @2 rpar FUNCTIONCALLEXT  .

VARIABLEEXT -> ASSIGNMENTOP @4 EXPRESSION @2 semi  .
VARIABLEEXT -> dot ASSIGNSTATEMENTORFUNCTIONCALL  .

FUNCTIONCALLEXT -> @1_#func_call_chain @4 semi  .
FUNCTIONCALLEXT -> dot ASSIGNSTATEMENTORFUNCTIONCALL  .

FUNCTIONPARAMS -> @1 @1_#params TYPE @2 id ARRAYDIMENSIONS @2 @2 @2 FUNCTIONPARAMSTAILS @3  .
FUNCTIONPARAMS ->   .

ADDOP -> plus  .
ADDOP -> minus  .
ADDOP -> or  .

OPTIONALINHERITS -> @1 inherits id @2 INHERITEDCLASSES @3  .
OPTIONALINHERITS ->   .

RELEXPRESSION -> @1_#condition ARITHEXPRESSION COMPAREOP @4 ARITHEXPRESSION @2  .

FUNCTIONDECLARATION -> @1 lpar FUNCTIONPARAMS @2 rpar colon @1_#return_type TYPEORVOID @2 @2 semi  .

FUNCTIONCALLPARAMSTAILS -> @1 FUNCTIONCALLPARAMSTAIL @2 FUNCTIONCALLPARAMSTAILS @3  .
FUNCTIONCALLPARAMSTAILS ->   .

LOCALSCOPE -> @1_#local_variables local VARIABLEDECLARATIONS @2 @2  .
LOCALSCOPE ->   .

ARRAYDIMENSIONS -> @1 ARRAYSIZE @2 ARRAYDIMENSIONS @3  .
ARRAYDIMENSIONS ->   .

EXPRESSION -> @1 ARITHEXPRESSION RELEXPRESSIONORNULL @4  .

RELEXPRESSIONORNULL -> COMPAREOP ARITHEXPRESSION @2  .
RELEXPRESSIONORNULL ->   .

STATEMENTS -> @1 STATEMENT @2 STATEMENTS @3  .
STATEMENTS ->   .

ARITHEXPRESSION -> @1 TERM RIGHTRECARITHEXPRESSION @3  .

RIGHTRECARITHEXPRESSION ->   .
RIGHTRECARITHEXPRESSION -> ADDOP @4 TERM @2 RIGHTRECARITHEXPRESSION @3  .

FUNCTIONSIGNATURE -> @1_#func_info id @2 FUNCTIONSIGNATURENAMESPACE  .

FUNCTIONSIGNATURENAMESPACE -> FUNCTIONSIGNATUREEXT @2  .
FUNCTIONSIGNATURENAMESPACE -> @1_#namespace coloncolon id @2 @2 FUNCTIONSIGNATUREEXT @2  .

FUNCTIONSIGNATUREEXT -> @1_#params_return lpar FUNCTIONPARAMS @2 rpar colon @1_#return_type TYPEORVOID @2 @2  .

FUNCTIONPARAMSTAILS -> @1 FUNCTIONPARAMSTAIL @2 FUNCTIONPARAMSTAILS @3  .
FUNCTIONPARAMSTAILS ->   .

INHERITEDCLASSES -> @1 comma id @2 INHERITEDCLASSES @3  .
INHERITEDCLASSES ->   .

SIGN -> plus  .
SIGN -> minus  .

COMPAREOP -> eq  .
COMPAREOP -> noteq  .
COMPAREOP -> less  .
COMPAREOP -> greater  .
COMPAREOP -> lesseq  .
COMPAREOP -> greatereq  .

INDEX -> @1 lsqbr ARITHEXPRESSION @2 rsqbr  .

VARIABLEDECLARATIONS -> @1 TYPE VARIABLEDECLARATION @4 @2 VARIABLEDECLARATIONS @3  .
VARIABLEDECLARATIONS ->   .

FACTOR -> VARIABLEFUNCTIONCALL  .
FACTOR -> intnum  .
FACTOR -> floatnum  .
FACTOR -> lpar ARITHEXPRESSION rpar  .
FACTOR -> not FACTOR  .
FACTOR -> SIGN FACTOR  .

VARIABLEFUNCTIONCALL -> @1_#call_chain id @2 VARIABLEORFUNCTIONCALL @3  .

VARIABLEORFUNCTIONCALL -> INDICES @2 FACTORVARIABLE  .
VARIABLEORFUNCTIONCALL -> lpar FUNCTIONCALLPARAMS @2 rpar FACTORFUNCTIONCALL  .

FACTORVARIABLE -> dot VARIABLEFUNCTIONCALL  .
FACTORVARIABLE ->   .

FACTORFUNCTIONCALL -> dot VARIABLEFUNCTIONCALL  .
FACTORFUNCTIONCALL ->   .

TERM -> @1 FACTOR RIGHTRECTERM @3  .

MULTOP -> mult  .
MULTOP -> div  .
MULTOP -> and  .

RIGHTRECTERM ->   .
RIGHTRECTERM -> MULTOP @4 FACTOR @2 RIGHTRECTERM @3  .

TYPEORVOID -> TYPE  .
TYPEORVOID -> void  .

TYPE -> TYPENONID  .
TYPE -> id  .

TYPENONID -> integer  .
TYPENONID -> float  .

ARRAYSIZE -> @1 lsqbr OPTIONALINT @2 rsqbr  .

OPTIONALINT -> intnum  .
OPTIONALINT ->   .

FUNCTIONCALLPARAMSTAIL -> comma EXPRESSION  .

FUNCTIONCALLPARAMS -> @1 EXPRESSION @2 FUNCTIONCALLPARAMSTAILS @3  .
FUNCTIONCALLPARAMS ->   .

VARIABLEDECLARATION -> @1_#variable id @2 ARRAYDIMENSIONS @2 semi  .

FUNCTIONBODY -> @1 LOCALSCOPE @2 do STATEMENTS @2 end  .

STATEMENTBLOCK -> @1_#statement_body do STATEMENTS @2 end  .
STATEMENTBLOCK -> @1_#statement_body STATEMENT @2  .
STATEMENTBLOCK ->   .

ASSIGNMENTOP -> equal  .

FUNCTIONPARAMSTAIL -> @1 comma TYPE id ARRAYDIMENSIONS @2 @2 @2  .

INDICES -> @1 INDEX @2 INDICES @3  .
INDICES ->   .


